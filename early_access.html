<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grin&Gain - Workout Tracker App for Weightlifting, Calisthenics, and More</title>
    <link rel="shortcut icon" href="icons/shortcut_icon.png">
    <link rel="stylesheet" href="general_styles.css">
</head>

<body>
    <a href="index.html" style="text-decoration: none;">
        <h1 style="font-size: 26pt; color: #63f794;"><img src="icons/green_icon.svg" alt="" height="24pt">Grin&Gain</h1>
    </a>
    <div class="center-text vertical-align">
        <h1>Request Early Access</h1>
        <form name="submit-to-google-sheet" class="early-access-form">
            <input class="early-access-text-field" type="text" name="first name" id="" placeholder="First name" required>
            <br>
            <input class="early-access-text-field" type="text" name="last name" id="" placeholder="Last name" required>
            <br>
            <input class="early-access-text-field" type="email" name="email" id="" placeholder="Email" required>
            <br>
            <div style="max-width: 400px; width: 80%; margin: auto;">
                <input type="checkbox" id="terms" name="terms and privacy" style="transform: scale(1.5); padding: 0 15pt;" required>
                <label for="terms">I agree to the <a href="terms_conditions.html" target="_blank">Terms and Conditions</a> and to the  <a href="privacy_policy.html" target="_blank">Privacy Policy</a></label>
            </div>
            <br>
            <button id="submit-button" class="request-button" type="submit" style="padding: 7.5pt 0; width: 80%; max-width: 400px;">Submit</button>
        </form>
        <script>
            const scriptURL = 'https://script.google.com/macros/s/AKfycbwN06UABhkG8KoEgm_MRS2kbgaS3dvRVO5VJPfBQ-KPIER9nJugn2snKHJoDngVeQj5Ow/exec'
            const form = document.forms['submit-to-google-sheet']
            const submitButton = document.getElementById('submit-button')
        
            form.addEventListener('submit', e => {
                e.preventDefault()
                submitButton.innerHTML = "Sending..."
                submitButton.style.backgroundColor = "lightblue"
                fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                    .then(response => {
                        submitButton.innerHTML = "Submitted"
                        submitButton.style.color = "black"
                        submitButton.style.backgroundColor = "#dcdcdc"
                        submitButton.disabled = true
                        form.reset()
                        setTimeout(() => {
                            submitButton.innerHTML = "Submit"
                            submitButton.style.color = ""
                            submitButton.style.backgroundColor = ""
                            submitButton.disabled = false
                        }, 5000)
                    })
                    .catch(error => console.error('Error!', error.message))
            })
        </script>
    </div>
</body>

</html>
